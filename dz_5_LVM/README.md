Что нужно сделать?
на имеющемся образе (centos/7 1804.2)
https://gitlab.com/otus_linux/stands-03-lvm


/dev/mapper/VolGroup00-LogVol00 38G 738M 37G 2% /

уменьшить том под / до 8G
выделить том под /home
выделить том под /var (/var - сделать в mirror)
для /home - сделать том для снэпшотов
прописать монтирование в fstab (попробовать с разными опциями и разными файловыми системами на выбор)
Работа со снапшотами:
сгенерировать файлы в /home/
снять снэпшот
удалить часть файлов
восстановиться со снэпшота

(залоггировать работу можно утилитой script, скриншотами и т.п.)


Ход выполнения задания:
1.Создал временный том на 8Г для переноса с корневого тома с помощью rsync.
Обновляем настройки загрузки и ребутаемся для проверки.

![image](https://github.com/user-attachments/assets/c75d4b38-a7f8-46dc-9738-058da88c4181)

Так как уменьшить XFS нельзя, пересоздал том на 8Г, снова перенес данные на основной том с временного, обновил fstab под новый корневой том.
После этого снова ребут для проверки. Временный том удален.

![image](https://github.com/user-attachments/assets/f87213f6-284e-4cdb-abab-688e44407d24)

![image](https://github.com/user-attachments/assets/d0a27186-458f-440b-835b-120b12ed4e05)

2.Выделить том под /home
Создал новый том для /home на 10Г на разделе sda3 и настроил его монтирование, предварительно скопировав все данные с предыдущего тома. Снова fstab, ребут, проверка.

![image](https://github.com/user-attachments/assets/2ddbc175-d05a-46dd-933b-6ff71f755e72)

![image](https://github.com/user-attachments/assets/bc849bc7-9acd-4d6d-a066-7f7ae172931d)

3.Выделить том под /var (/var - сделать в mirror)
С помощью mdadm настроил RAID1 с использованием дисков sdc и sdd, смонтировал его в /var, скопировав данные из предыдущего /var Снова fstab, ребут, проверка.

![image](https://github.com/user-attachments/assets/ce1d0415-b353-45ce-b9b3-2faac764d988)

![image](https://github.com/user-attachments/assets/d0db0318-ec30-4b50-bb35-83646a476c94)


4. Для /home - сделать том для снэпшотов
Для тома /home создал другой том для хранения снапшотов

![image](https://github.com/user-attachments/assets/de28a278-b67c-416f-bced-939fa458a348)

5. Прописать монтирование в fstab (попробовать с разными опциями и разными файловыми системами на выбор)

    /etc/fstab
# Created by anaconda on Sat May 12 18:50:26 2018
#
# Accessible filesystems, by reference, are maintained under '/dev/disk'
# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info
#
UUID=701e18bc-77dd-4844-b86e-c27a7b526856 /                       xfs     defaults        0 0
UUID=570897ca-e759-4c81-90cf-389da6eee4cc /boot                   xfs     defaults        0 0
UUID=c39c5bed-f37c-4263-bee8-aeb6a6659d7b swap                    swap    defaults        0 0
UUID=7174662e-9781-47a2-aa29-62355e071c35 /home                   xfs     defaults        0 0
UUID=ba64d47b-e2ca-4253-815d-a1e7731945fd /mnt/btrfs              btrfs   defaults        0 0
UUID=1edc993a-8283-4cb4-b206-4cee203a8b7d /var                    ext4    defaults        0 0
zfspool/zfs                               /opt                    zfs     defaults        0 0


#VAGRANT-BEGIN
# The contents below are automatically generated by Vagrant. Do not modify.
#VAGRANT-END

6. Сгенерировать файлы в /home/
снять снэпшот
удалить часть файлов
восстановиться со снэпшота

Создал несколько файлов, сделал и смонтировал снапшот, удалил файлы и восстановил их из снапшота.

![image](https://github.com/user-attachments/assets/6e0273ca-a01f-4841-aad1-1530bc8170a3)


